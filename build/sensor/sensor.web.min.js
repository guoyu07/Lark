var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);n.prototype=e.prototype,t.prototype=new n},__define=this.__define||function(t,e,n,a){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n,set:a})},lark;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.call(this),this.onUpdate=function(e){var a=new t.GeolocationEvent(t.Event.CHANGE),o=e.coords;a.altitude=o.altitude,a.heading=o.heading,a.accuracy=o.accuracy,a.latitude=o.latitude,a.longitude=o.longitude,a.speed=o.speed,a.altitudeAccuracy=o.altitudeAccuracy,n.emit(a)},this.onError=function(e){var a=t.GeolocationEvent.UNAVAILABLE;e.code==e.PERMISSION_DENIED&&(a=t.GeolocationEvent.PERMISSION_DENIED);var o=new t.GeolocationEvent(t.Event.IO_ERROR);o.errorType=a,o.errorMessage=e.message,n.emit(o)},this.geolocation=navigator.geolocation}__extends(n,e);var a=n;return p=a.prototype,p.start=function(){var e=this.geolocation;e?this.watchId=e.watchPosition(this.onUpdate,this.onError):this.onError({code:2,message:t.sys.tr(3101),PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2})},p.stop=function(){var t=this.geolocation;t.clearWatch(this.watchId)},n}(t.EventEmitter);e.WebGeolocation=n,t.registerClass(n,"lark.web.WebGeolocation",["lark.Geolocation","lark.IEventEmitter"]),t.Geolocation=t.web.WebGeolocation}(e=t.web||(t.web={}))}(lark||(lark={}));var lark;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this.onChange=function(e){var a=new t.MotionEvent(t.Event.CHANGE),o={x:e.acceleration.x,y:e.acceleration.y,z:e.acceleration.z},i={x:e.accelerationIncludingGravity.x,y:e.accelerationIncludingGravity.y,z:e.accelerationIncludingGravity.z},r={alpha:e.rotationRate.alpha,beta:e.rotationRate.beta,gamma:e.rotationRate.gamma};a.acceleration=o,a.accelerationIncludingGravity=i,a.rotationRate=r,n.emit(a)}}__extends(n,e);var a=n;return p=a.prototype,p.start=function(){window.addEventListener("devicemotion",this.onChange)},p.stop=function(){window.removeEventListener("devicemotion",this.onChange)},n}(t.EventEmitter);e.WebMotion=n,t.registerClass(n,"lark.web.WebMotion",["lark.Motion","lark.IEventEmitter"]),t.Motion=t.web.WebMotion}(e=t.web||(t.web={}))}(lark||(lark={}));var lark;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this.onChange=function(e){var a=new t.OrientationEvent(t.Event.CHANGE);a.beta=e.beta,a.gamma=e.gamma,a.alpha=e.alpha,n.emit(a)}}__extends(n,e);var a=n;return p=a.prototype,p.start=function(){window.addEventListener("deviceorientation",this.onChange)},p.stop=function(){window.removeEventListener("deviceorientation",this.onChange)},n}(t.EventEmitter);e.WebOrientation=n,t.registerClass(n,"lark.web.WebOrientation",["lark.Orientation","lark.IEventEmitter"])}(e=t.web||(t.web={}))}(lark||(lark={})),lark.Orientation=lark.web.WebOrientation;